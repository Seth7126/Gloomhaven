Parser: Scenario
ID: Scenario_Story_CaptainOfTheGuard
BaseBiome: City
BaseSubBiome: CityWalls
BaseTone: Gaslight
ScenarioMeshes: [B2_Town_03_MAT]
ChestTreasureTables: [DefaultChest]
ScenarioStartMessage:
    MessageLayoutType: 4
    DialogueLines:
        - Text: SCENARIO_STORY_CaptainOfTheGuard_START_1
          Character: Trainer
        - Text: SCENARIO_STORY_CaptainOfTheGuard_START_2
          Character: CaptainoftheGuard
        - Text: SCENARIO_STORY_CaptainOfTheGuard_START_3
          Character: Merchant
ScenarioCompleteMessage:
    MessageLayoutType: 4
    DialogueLines:
        - Text: SCENARIO_STORY_CaptainOfTheGuard_SUCCESS_1
          Character: Narrator
        - Text: SCENARIO_STORY_CaptainOfTheGuard_SUCCESS_2
          Character: Narrator
        - Text: SCENARIO_STORY_CaptainOfTheGuard_SUCCESS_3
          Character: Trainer
ScenarioLayout:
    ScenarioModifiers:
        IMMUNITYSM1:
            Type: ApplyActiveBonusToActor
            TriggerPhase: StartRound
            ScenarioAbilityID: ScenarioAbility_PoisonImmunity_Self
            ApplyToEachActorOnce: True
            IsPositive: True
            Filter:
                ActorType: [Player, Summon]
    Objectives:
        KillAllEnemies: Win      
        XCharactersDie:
            Result: Lose
            KillAmount: [1,1,1,1]               
            Filter:
                ActorType: Player            
                PlayerClasses: [DoomstalkerID, PlagueheraldID]
            ObjectiveDescription: Scenario_Story_CaptainOfTheGuard_Fail_Objective 
                
    Rooms:
        Room1:
            Threat: 100
            PossibleRooms:
                - EmptyTJunction:
                    MonsterGroup: CityTypesArtillery
                    Traps: [100,100, 10]
        Room2:
            RoomRevealedMessage:
                MessageLayoutType: 4
                DialogueLines:
                    - Text: SCENARIO_STORY_CaptainOfTheGuard_ROOM_2_1
                      Character: Merchant        
                    - Text: SCENARIO_STORY_CaptainOfTheGuard_ROOM_2_2
                      Character: Trainer         
                    - Text: SCENARIO_STORY_CaptainOfTheGuard_ROOM_2_3
                      Character: Enchantress        
            Threat: 100
            PossibleRooms:
                - LargeEmptyRoom: 
                    SubBiome: StoneWoodenRooms
                    MonsterGroup: DrakesNSnakes
                    TwoHexObstacles: [100]
                    Traps: [100,100, 100]
                    
        Room3:
            RoomRevealedMessage:
                MessageLayoutType: 4
                DialogueLines:
                    - Text: SCENARIO_STORY_CaptainOfTheGuard_ROOM_3_1
                      Character: CaptainoftheGuard      
                    - Text: SCENARIO_STORY_CaptainOfTheGuard_ROOM_3_2
                      Character: Merchant
                    - Text: SCENARIO_STORY_CaptainOfTheGuard_ROOM_3_3
                      Character: Trainer        
            Threat: 100
            PossibleRooms:
                - HugeEmptyRoom: 
                    SubBiome: StoneWoodenRooms
                    MonsterGroup: CityTypesArtillery
                    TwoHexObstacles: [100]
                    GoldPiles: [100,100, 100, 100]
                    Traps: [100,100, 100]
                    Spawners:
                        - SpawnerTriggerType: StartRound
                          SpawnerActivationType: RoomRevealed
                          LoopSpawnPattern: False
                          SpawnRoundInterval: [1, 1, 1, 1]
                          SpawnRoundEntries:
                            Default:
                                - SpawnClasses: [CaptainoftheGuardID, CaptainoftheGuardID, CaptainoftheGuardID, CaptainoftheGuardID]
